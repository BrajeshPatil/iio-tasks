## Generic Buffer
### Task 6
First we need to enable hrtimer using `make menuconfig`. Follow this path: 
`Device Drivers -> Industrial I/O support -> Triggers-standalone -> High resolution timer trigger`

Then use modules_prepare to prepare kernel build system for compiling the modules. Then compile the `drivers/iio/trigger` directory. Then copy the iio-trig-hrtimer.ko to the VM and insmod it. Make sure that configfs is mounted on /config. 

Create hrtimer software trigger named t1.
```
root@localhost:~# mkdir /config/iio/triggers/hrtimer/t1
```

The trigger resides in the `/sys/bus/iio/devices` directory. Use theses commands to verif:
```
root@localhost:~# ls /sys/bus/iio/devices/
iio_evgen  trigger0


root@localhost:~# ls /sys/bus/iio/devices/trigger0
name  power  sampling_frequency  subsystem  uevent
```

### Task 7 -Read samples from buffer generated by the iio_dummy module
Compile `iio_generic_buffer.c` from `tools/iio`
```
$ make -C ${IIO_TREE}/tools/iio/ iio_generic_buffer
```

Copy `iio_generic_buffer` to VM.
```
$ scp ${IIO_TREE}/tools/iio/iio_generic_buffer root@<VM-IP>:/root/
```

Then the command `./iio_generic_buffer -h` was executed. Then reading the usage I decided to use the following options:
1. -a : Auto-activate all available channels
2. -n : To mention the iio_dummy device
3. -t : To include the hrtimer t1
4. -c : To control the number of reads
```
root@localhost:~# ./iio_generic_buffer -a -n my_dummy_device -t t1 -c 5
iio device number being used is 0
iio trigger number being used is 0
Enabling all channels
.
.
/sys/bus/iio/devices/iio:device0 t1
0.018662 -0.000044 -0.000003 344.000000 0 0.067140 0.032392 0.093944 
0.018662 -0.000044 -0.000003 344.000000 0 0.127440 0.032702 0.093944 
0.018662 -0.000044 -0.000003 344.000000 0 0.097726 0.033016 0.093944 
0.018662 -0.000044 -0.000003 344.000000 0 0.115968 0.033340 0.093944 
0.018662 -0.000044 -0.000003 344.000000 0 0.125850 0.033622 0.093944 
Disabling all channels
.
.
```
We can enable specific channels using `/sys/bus/iio/devices/iio:device0/scan_elements/` directory
